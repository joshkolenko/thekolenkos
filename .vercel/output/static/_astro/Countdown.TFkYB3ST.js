import{j as h}from"./jsx-runtime.D_zvdyIk.js";import{a as v}from"./index.9MVAkNgL.js";var P={exports:{}},b,C;function U(){if(C)return b;C=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b=r,b}var D,R;function F(){if(R)return D;R=1;var r=U();function n(){}function o(){}return o.resetWarningCache=n,D=function(){function t(i,u,c,m,f,l){if(l!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var a={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:n};return a.PropTypes=a,a},D}var j;function H(){return j||(j=1,P.exports=F()()),P.exports}var s=H();function E(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function L(r,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function M(r,n,o){return n&&L(r.prototype,n),r}function k(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&O(r,n)}function g(r){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},g(r)}function O(r,n){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(r,n)}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function V(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function B(r,n){return n&&(typeof n=="object"||typeof n=="function")?n:V(r)}function I(r){var n=q();return function(){var t=g(r),e;if(n){var a=g(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return B(this,e)}}function Y(r){return G(r)||J(r)||K(r)||Q()}function G(r){if(Array.isArray(r))return w(r)}function J(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function K(r,n){if(r){if(typeof r=="string")return w(r,n);var o=Object.prototype.toString.call(r).slice(8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return Array.from(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return w(r,n)}}function w(r,n){(n==null||n>r.length)&&(n=r.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=r[o];return t}function Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=String(r);if(n===0)return o;var t=o.match(/(.*?)([0-9]+)(.*)/),e=t?t[1]:"",a=t?t[3]:"",i=t?t[2]:o,u=i.length>=n?i:(Y(Array(n)).map(function(){return"0"}).join("")+i).slice(n*-1);return"".concat(e).concat(u).concat(a)}var A={daysInHours:!1,zeroPadTime:2};function X(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.now,t=o===void 0?Date.now:o,e=n.precision,a=e===void 0?0:e,i=n.controlled,u=n.offsetTime,c=u===void 0?0:u,m=n.overtime,f;typeof r=="string"?f=new Date(r).getTime():r instanceof Date?f=r.getTime():f=r,i||(f+=c);var l=i?f:f-t(),p=Math.min(20,Math.max(0,a)),y=Math.round(parseFloat(((m?l:Math.max(0,l))/1e3).toFixed(p))*1e3),d=Math.abs(y)/1e3;return{total:y,days:Math.floor(d/(3600*24)),hours:Math.floor(d/3600%24),minutes:Math.floor(d/60%60),seconds:Math.floor(d%60),milliseconds:Number((d%1*1e3).toFixed()),completed:y<=0}}function Z(r,n){var o=r.days,t=r.hours,e=r.minutes,a=r.seconds,i=Object.assign(Object.assign({},A),n),u=i.daysInHours,c=i.zeroPadTime,m=i.zeroPadDays,f=m===void 0?c:m,l=Math.min(2,c),p=u?T(t+o*24,c):T(t,l);return{days:u?"":T(o,f),hours:p,minutes:T(e,l),seconds:T(a,l)}}var N=function(r){k(o,r);var n=I(o);function o(){var t;return E(this,o),t=n.apply(this,arguments),t.state={count:t.props.count||3},t.startCountdown=function(){t.interval=window.setInterval(function(){var e=t.state.count-1;e===0?(t.stopCountdown(),t.props.onComplete&&t.props.onComplete()):t.setState(function(a){return{count:a.count-1}})},1e3)},t.stopCountdown=function(){clearInterval(t.interval)},t.addTime=function(e){t.stopCountdown(),t.setState(function(a){return{count:a.count+e}},t.startCountdown)},t}return M(o,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?v.cloneElement(this.props.children,{count:this.state.count}):null}}]),o}(v.Component);N.propTypes={count:s.number,children:s.element,onComplete:s.func};var _=function(r){k(o,r);var n=I(o);function o(t){var e;if(E(this,o),e=n.call(this,t),e.mounted=!1,e.initialTimestamp=e.calcOffsetStartTimestamp(),e.offsetStartTimestamp=e.props.autoStart?0:e.initialTimestamp,e.offsetTime=0,e.legacyMode=!1,e.legacyCountdownRef=null,e.tick=function(){var i=e.calcTimeDelta(),u=i.completed&&!e.props.overtime?void 0:e.props.onTick;e.setTimeDeltaState(i,void 0,u)},e.setLegacyCountdownRef=function(i){e.legacyCountdownRef=i},e.start=function(){if(!e.isStarted()){var i=e.offsetStartTimestamp;e.offsetStartTimestamp=0,e.offsetTime+=i?e.calcOffsetStartTimestamp()-i:0;var u=e.calcTimeDelta();e.setTimeDeltaState(u,"STARTED",e.props.onStart),!e.props.controlled&&(!u.completed||e.props.overtime)&&(e.clearTimer(),e.interval=window.setInterval(e.tick,e.props.intervalDelay))}},e.pause=function(){e.isPaused()||(e.clearTimer(),e.offsetStartTimestamp=e.calcOffsetStartTimestamp(),e.setTimeDeltaState(e.state.timeDelta,"PAUSED",e.props.onPause))},e.stop=function(){e.isStopped()||(e.clearTimer(),e.offsetStartTimestamp=e.calcOffsetStartTimestamp(),e.offsetTime=e.offsetStartTimestamp-e.initialTimestamp,e.setTimeDeltaState(e.calcTimeDelta(),"STOPPED",e.props.onStop))},e.isStarted=function(){return e.isStatus("STARTED")},e.isPaused=function(){return e.isStatus("PAUSED")},e.isStopped=function(){return e.isStatus("STOPPED")},e.isCompleted=function(){return e.isStatus("COMPLETED")},t.date){var a=e.calcTimeDelta();e.state={timeDelta:a,status:a.completed?"COMPLETED":"STOPPED"}}else e.legacyMode=!0;return e}return M(o,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,a=e.date,i=e.now,u=e.precision,c=e.controlled,m=e.overtime;return X(a,{now:i,precision:u,controlled:c,offsetTime:this.offsetTime,overtime:m})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,a,i){var u=this;if(this.mounted){var c=e.completed&&!this.state.timeDelta.completed,m=e.completed&&a==="STARTED";c&&!this.props.overtime&&this.clearTimer();var f=function(){i&&i(u.state.timeDelta),u.props.onComplete&&(c||m)&&u.props.onComplete(e,m)};return this.setState(function(l){var p=a||l.status;return e.completed&&!u.props.overtime?p="COMPLETED":!a&&p==="COMPLETED"&&(p="STOPPED"),{timeDelta:e,status:p}},f)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,a=e.daysInHours,i=e.zeroPadTime,u=e.zeroPadDays,c=this.state.timeDelta;return Object.assign(Object.assign({},c),{api:this.getApi(),props:this.props,formatted:Z(c,{daysInHours:a,zeroPadTime:i,zeroPadDays:u})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,a=e.count,i=e.children,u=e.onComplete;return v.createElement(N,{ref:this.setLegacyCountdownRef,count:a,onComplete:u},i)}var c=this.props,m=c.className,f=c.overtime,l=c.children,p=c.renderer,y=this.getRenderProps();if(p)return p(y);if(l&&this.state.timeDelta.completed&&!f)return v.cloneElement(l,{countdown:y});var d=y.formatted,x=d.days,z=d.hours,$=d.minutes,W=d.seconds;return v.createElement("span",{className:m},y.total<0?"-":"",x,x?":":"",z,":",$,":",W)}}]),o}(v.Component);_.defaultProps=Object.assign(Object.assign({},A),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});_.propTypes={date:s.oneOfType([s.instanceOf(Date),s.string,s.number]),daysInHours:s.bool,zeroPadTime:s.number,zeroPadDays:s.number,controlled:s.bool,intervalDelay:s.number,precision:s.number,autoStart:s.bool,overtime:s.bool,className:s.string,children:s.element,renderer:s.func,now:s.func,onMount:s.func,onStart:s.func,onPause:s.func,onStop:s.func,onTick:s.func,onComplete:s.func};function S({value:r,label:n}){return h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:"text-2xl md:text-4xl leading-4 md:leading-6",children:r}),h.jsx("span",{className:"text-sm md:text-lg",children:n})]})}function re({date:r}){return h.jsx("div",{className:"bg-black text-white px-5 py-1.5 md:px-8 md:py-2.5",children:h.jsx(_,{date:r,renderer:({days:n,hours:o,minutes:t,seconds:e})=>h.jsxs("div",{className:"font-body flex gap-6 md:gap-8 relative top-0.5",children:[h.jsx(S,{value:n,label:"days"}),h.jsx(S,{value:o,label:"hours"}),h.jsx(S,{value:t,label:"minutes"}),h.jsx(S,{value:e,label:"seconds"})]})})})}export{re as default};
