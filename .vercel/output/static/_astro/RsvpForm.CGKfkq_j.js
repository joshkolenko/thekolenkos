import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{u as c,F as i}from"./FormError.BmCnQf1g.js";import"./index.9MVAkNgL.js";function x(){const s=c({defaultValues:{name:"",email:"",phone:"",guests:""},validators:{onSubmit:({value:e})=>{const a={};if(e.name||(a.name="Name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email is invalid"):a.email="Email is required",e.phone?/^\+?[1-9]\d{1,14}$/.test(e.phone)||(a.phone="Phone number is invalid"):a.phone="Phone is required",Object.keys(a).length)return{fields:a}}},onSubmit:async({value:e})=>{console.log(e)}});function m(e){s.setFieldValue("guests",a=>(a?a.split(",").map(n=>n.trim()):[]).filter(n=>n!==e.trim()).join(", "))}function o(e){if(e.key==="Enter"){e.preventDefault();const a=e.currentTarget,l=a.value.replace(/,/g,"").trim();if(!l)return;l&&(s.setFieldValue("guests",r=>[...r?r.split(",").map(u=>u.trim()):[],l].join(", ")),a.value="")}}return t.jsx("form",{className:"w-full",onSubmit:e=>{e.preventDefault(),e.stopPropagation(),s.handleSubmit()},children:t.jsxs("div",{className:"flex flex-col gap-3 w-full text-left",children:[t.jsx("span",{className:"my-2 text-sm text-base-content/60",children:"* Required field"}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{htmlFor:"name",className:"label",children:"Name*"}),t.jsx(s.Field,{name:"name",children:e=>t.jsxs(t.Fragment,{children:[t.jsx("input",{id:"name",autoComplete:"name",name:e.name,value:e.state.value,className:"input input-lg w-full",onChange:a=>e.handleChange(a.target.value),type:"text",required:!0}),t.jsx(i,{showError:!e.state.meta.isValid,error:e.state.meta.errors.join(",")})]})})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{htmlFor:"email",className:"label",children:"Email*"}),t.jsx(s.Field,{name:"email",children:e=>t.jsxs(t.Fragment,{children:[t.jsx("input",{id:"email",autoComplete:"name",name:e.name,value:e.state.value,className:"input input-lg w-full",onChange:a=>e.handleChange(a.target.value),type:"email",required:!0}),t.jsx(i,{showError:!e.state.meta.isValid,error:e.state.meta.errors.join(",")})]})})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{htmlFor:"phone",className:"label",children:"Phone*"}),t.jsx(s.Field,{name:"phone",children:e=>t.jsxs(t.Fragment,{children:[t.jsx("input",{id:"phone",autoComplete:"tel",name:e.name,value:e.state.value,className:"input input-lg w-full",onChange:a=>e.handleChange(a.target.value),type:"phone",required:!0}),t.jsx(i,{showError:!e.state.meta.isValid,error:e.state.meta.errors.join(",")})]})})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{htmlFor:"phone",className:"label",children:"Guests"}),t.jsx("span",{className:"text-sm text-base-content/60",children:"Press enter to add a guest, click guest to remove"}),t.jsx(s.Field,{name:"guests",children:e=>t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"text",onKeyDown:o,className:"input input-lg w-full"}),e.state.value&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e.state.value.split(",").map((a,l)=>t.jsxs("button",{type:"button",className:"cursor-pointer badge badge-lg badge-neutral",onClick:()=>m(a),children:[a,t.jsx("i",{className:"ph-bold ph-x text-xs"})]},l))})]})})]}),t.jsx("button",{type:"submit",className:"btn btn-lg btn-neutral mt-2",children:"Submit"})]})})}export{x as default};
