import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{u as o,F as n}from"./FormError.BmCnQf1g.js";import"./index.9MVAkNgL.js";function m(){const s=o({defaultValues:{code:""},validators:{onSubmitAsync:async({value:e})=>{try{const r=await(await fetch("/api/code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();if(r.success)window.location.href="/";else return{fields:{code:r.error||"Invalid access code"}}}catch{return{fields:{code:"Error submitting form"}}}}}});return t.jsx("form",{className:"w-full",onSubmit:e=>{e.preventDefault(),e.stopPropagation(),s.handleSubmit()},children:t.jsxs("div",{className:"flex flex-col gap-3 w-full text-left",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{htmlFor:"name",className:"label",children:"Access code"}),t.jsx(s.Field,{name:"code",children:e=>t.jsxs(t.Fragment,{children:[t.jsx("input",{id:"name",autoComplete:"off",autoCapitalize:"off",name:e.name,value:e.state.value,className:"input input-lg w-full",onChange:a=>e.handleChange(a.target.value),type:"text",required:!0}),t.jsx(n,{showError:!e.state.meta.isValid,error:e.state.meta.errors.join(",")})]})})]}),t.jsx("button",{type:"submit",className:"btn btn-lg btn-neutral mt-2",children:"Submit"})]})})}export{m as default};
